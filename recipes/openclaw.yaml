name: openclaw
version: "latest"
description: Personal AI assistant with messaging integrations
image: ghcr.io/phioranex/openclaw-docker:latest
private: true

prompts:
  - key: ANTHROPIC_API_KEY
    label: "Anthropic API key"
    required: true
    secret: true
  - key: OPENCLAW_GATEWAY_TOKEN
    label: "Gateway token (for client auth)"
    required: true
    secret: true

ports:
  - 18789

command: "node dist/index.js gateway --bind lan --port 18789"

volumes:
  - openclaw_data:/home/node/.openclaw

environment:
  HOME: "/home/node"
  TERM: "xterm-256color"
  ANTHROPIC_API_KEY: "${ANTHROPIC_API_KEY}"
  OPENCLAW_GATEWAY_TOKEN: "${OPENCLAW_GATEWAY_TOKEN}"

health_check:
  url: "http://localhost:18789"
  timeout: 60
  interval: 3
